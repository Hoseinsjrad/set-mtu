# set-mtu-persistent

Persistent MTU setter for Ubuntu servers (18.04+).

## Usage

Interactive:
sudo ./set-mtu-persistent.sh

CLI:
sudo ./set-mtu-persistent.sh --iface eth0 --mtu 9000

## Features
- Supports Netplan, NetworkManager, and systemd fallback
- Applies MTU immediately and persistently after reboot
- Automatic backups of original config files

## Notes
- On VPS with cloud-init, configuration files may be reset on reboot. Check provider docs.
- Typical MTU: 1500 (standard), 9000 (jumbo frames)


set-mtu-persistent

اسکریپت تنظیم MTU به‌صورت پایدار برای سرورهای اوبونتو (18.04+).
با این اسکریپت می‌توانید MTU رابط شبکه را هم بلافاصله اعمال و هم بعد از ریبوت حفظ کنید.

⚡ ویژگی‌ها

پشتیبانی از NetworkManager، Netplan و Fallback systemd

اعمال MTU فوری و پایدار

بکاپ خودکار فایل‌های شبکه قبل از تغییر

اجرا به صورت تعاملی یا با پارامتر خط فرمان

✅ مراحل نصب و استفاده سریع

کلون کردن پروژه:

git clone https://github.com/YourUsername/set-mtu-persistent.git
cd set-mtu-persistent


اجازه اجرای اسکریپت:

chmod +x set-mtu-persistent.sh


اجرای اسکریپت (دو روش):

روش تعاملی:

sudo ./set-mtu-persistent.sh


اسکریپت اینترفیس شبکه را تشخیص می‌دهد و از شما مقدار MTU می‌خواهد.

روش با پارامتر خط فرمان:

sudo ./set-mtu-persistent.sh --iface eth0 --mtu 9000


--iface: نام اینترفیس

--mtu: مقدار MTU

بررسی MTU اعمال شده:

ip link show eth0

💡 نکات

MTU معمولاً 1500 (استاندارد) یا 9000 (jumbo frames) است.

تغییرات بعد از ریبوت هم حفظ می‌شوند.

اگر سرور از cloud-init استفاده می‌کند، ممکن است فایل‌های شبکه بازنویسی شوند.

بکاپ خودکار در مسیر:

/etc/set-mtu-backups-YYYYMMDD-HHMMSS
